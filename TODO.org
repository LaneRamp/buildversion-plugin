* NEXT? Build minimal and clean Mojo in Clojure
* TODO implement extraction of current version from git tags
** DONE put together git repo as fixture
** DONE pick unit testing framework for clojure
** DONE May be we need to use zi (or clojure-maven-plugin) to be able to run tests
** DONE Write tests to checkout a particular version and assert expected version
** DONE Implement simple version extraction to make tests pass
** DONE Implement map with all type of versions we need
   * [X] artifact version
   * [X] full label (human)
   * [X] full packaging version (rpm)
   * [X] timestamp
** TODO Complete test scenarios for all corner cases
* TODO Hook it with maven, Mojo
** TODO Call version-extraction logic from Mojo
** TODO Test on a basic project *from a branch new user* (with a clean ~/.m2)
** TODO write sample pom.xml/project
** TODO Hook it with maven-invoker-plugin
*** write basic assertion to validate Mojo integration
* TODO Make timestamp UTC ?
* TODO Propose a defmojo macro for clojure-maven project?
(defmojo
  [:goal "simple" requires-dependency-resolution "test"]

  base-directory   {:expression "${basedir}" :required true :readonly true}

  project          {:expression "${project}" :required true :readonly true}
  
  output-directory {:defaultValue "${project.build.outputDirectory}" :required true}

  log

  plugin-context

  (execute [_]
           (.info log (str "* Infering project version *" output-directory))
           (.info log (str "* project.version = " (.getVersion project)))))
* TODO Generalize protocol for potential non-git implementations
* SOMEDAY how about using JGit ?
* TODO Learn a bit about Plexus and how Maven uses it
** TODO Figure out what clojure-maven-plexus-compiler is for exactly
